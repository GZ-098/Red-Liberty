add_namespace = demo_mex
add_namespace = demo_ahe

country_event = { # election event
	id = demo_mex.1
	title = ""
	desc = demo_mex.1.desc
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = {
		name = ""
	}
	
	option = {
		name = ""
	}
}

country_event = { # mexico civil war demo event
	id = demo_mex.2
	title = ""
	desc = demo_mex.2.desc
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = {
		name = ""
		hidden_effect = {
			MXR = {
				set_global_flag = MEX_cristero_war_bad
				transfer_state = 478
				478 = {
					set_demilitarized_zone = no
				}
				random_list = {
					80 = {
						transfer_state = 905
					}
					20 = {
						
					}
				}
				random_list = {
					80 = {
						transfer_state = 481
					}
					20 = {
						
					}
				}
				random_list = {
					60 = {
						transfer_state = 485
					}
					40 = {
						
					}
				}
				random_list = {
					60 = {
						transfer_state = 899
					}
					40 = {
						
					}
				}
				random_list = {
					50 = {
						transfer_state = 906
					}
					50 = {
						
					}
				}
				load_oob = "MXR"
			}
			YUC = {
				add_state_core = 474
				transfer_state = 474
				
				load_oob = "YUC"
			}
			MEX = {
				declare_war_on = {
					target = MXR
					type = annex_everything
				}
				declare_war_on = {
					target = YUC
					type = annex_everything
				}
			}
		}
	}
}

news_event = {
	id = demo_mex.3
	title = "The Cristiada Intensifies!"
	desc = demo_mex.3.desc
	
	major = yes
	
	show_major = {
		is_north_american_tag = yes
	}
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = {
		name = ""
	}
}

country_event = { # what it says in the title
	id = demo_mex.4
	title = "Yucatan requests protectorate status"
	desc = demo_mex.4.desc
	
	is_triggered_only = yes
	
	trigger = {
		YUC = {
			exists = yes
		}
	}
	
	fire_only_once = yes

	option = {
		name = ""
		USA = {
			puppet = YUC
		}
		YUC = {
			white_peace = MEX
		}
		MEX = {
			country_event = {
				id = demo_mex.5
			}
		}
	}
	
	option = {
		name = ""
	}
}

country_event = { # notification for mex
	id = demo_mex.5
	title = "The Yanquis occupy the Yucatan!"
	desc = demo_mex.5.desc
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = {
		name = "Damn them!"
	}
}

country_event = { # election event for austria
	id = demo_ahe.1
	title = ""
	desc = demo_ahe.1.desc
	
	is_triggered_only = yes
	
	fire_only_once = yes

	option = {
		name = ""
		set_politics = {
			ruling_party = social_democracy
			elections_allowed = yes
			last_election = "1936.10.8"
			election_frequency = 48
		}
		add_popularity = {
			ideology = social_democracy
			popularity = 0.02
		}
		add_popularity = {
			ideology = libertarian_socialism
			popularity = 0.01
		}
	}
	
	option = {
		name = ""
		add_popularity = {
			ideology = national_conservatism
			popularity = 0.03
		}
	}
}